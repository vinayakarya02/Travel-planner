import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [

            {text: "Generate Travel Plan for Location: shimla,himachal  pradesh ,for 3 Days for couples with a cheap Budget ,Give me a hotels options list with HotelName ,Hotel address ,Price ,Hotel image url , geocoordinates ,rating , descriptions and suggest itinerary with placename ,Place Details ,Place Image Url ,Geo Coordinates ,tickets Pricing ,rating ,Time Travel each of the location for 3 days with each day plan best time to visit in JSON format"},

          ],
        },
        {
          role: "model",
          parts: [

            {text: "Okay, here's a detailed 3-day budget-friendly Shimla travel plan for couples, presented in JSON format.  I'll provide hotel options, an itinerary, and relevant details to help you plan your trip. I will strive to provide real-world information, but please double-check pricing and availability before booking as they can change.\n```json\n{\n  \"tripTitle\": \"Budget-Friendly Shimla Getaway for Couples (3 Days)\",\n  \"location\": \"Shimla, Himachal Pradesh, India\",\n  \"budget\": \"Cheap/Budget-Friendly\",\n  \"travelers\": \"Couple\",\n  \"bestTimeToVisit\": \"March-June (Pleasant weather) or October-November (Clear skies, less crowd)\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Hotel Willow Banks\",\n      \"hotelAddress\": \"The Mall Road, Shimla, Himachal Pradesh 171001, India\",\n      \"pricePerNight\": 2000,\n      \"hotelImageUrl\": \"https://example.com/hotelwillowbanks.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 31.1048,\n        \"longitude\": 77.1723\n      },\n      \"rating\": 4.0,\n      \"description\": \"Located on Mall Road, offering comfortable rooms with scenic views. Walking distance to major attractions.\",\n      \"amenities\": [\"Restaurant\", \"Free Wi-Fi\", \"Room Service\"]\n    },\n    {\n      \"hotelName\": \"Hotel Combermere\",\n      \"hotelAddress\": \"The Mall, Shimla, Himachal Pradesh 171001, India\",\n      \"pricePerNight\": 2500,\n      \"hotelImageUrl\": \"https://example.com/hotelcombermere.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 31.1055,\n        \"longitude\": 77.1715\n      },\n      \"rating\": 4.2,\n      \"description\": \"A mid-range hotel with well-appointed rooms, a restaurant, and a central location on the Mall Road.\",\n      \"amenities\": [\"Restaurant\", \"Bar\", \"Free Wi-Fi\"]\n    },\n    {\n      \"hotelName\": \"Shimla British Resort\",\n      \"hotelAddress\": \"Near DC Office, Khallini, Shimla, Himachal Pradesh 171002, India\",\n      \"pricePerNight\": 1500,\n      \"hotelImageUrl\": \"https://example.com/shimlabritishresort.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 31.1088,\n        \"longitude\": 77.1866\n      },\n      \"rating\": 3.8,\n      \"description\": \"A heritage-style resort offering a unique experience with antique furnishings and beautiful surroundings.\",\n      \"amenities\": [\"Restaurant\", \"Garden\", \"Parking\"]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring Mall Road & Ridge\",\n      \"plan\": [\n        {\n          \"placeName\": \"Mall Road\",\n          \"placeDetails\": \"The heart of Shimla, a pedestrian street with shops, restaurants, and colonial architecture. Perfect for a leisurely stroll.\",\n          \"placeImageUrl\": \"https://example.com/mallroad.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 31.1045,\n            \"longitude\": 77.1718\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToSpend\": \"2-3 hours\",\n          \"bestTimeToVisit\": \"Afternoon/Evening\"\n        },\n        {\n          \"placeName\": \"The Ridge\",\n          \"placeDetails\": \"A large open space above Mall Road, offering panoramic views of the mountains. A popular spot for gatherings and events.\",\n          \"placeImageUrl\": \"https://example.com/theridge.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 31.1040,\n            \"longitude\": 77.1712\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.3,\n          \"timeToSpend\": \"1-2 hours\",\n          \"bestTimeToVisit\": \"Anytime\"\n        },\n        {\n          \"placeName\": \"Christ Church\",\n          \"placeDetails\": \"A historic church on The Ridge, known for its stained glass windows and neo-Gothic architecture.\",\n          \"placeImageUrl\": \"https://example.com/christchurch.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 31.1037,\n            \"longitude\": 77.1714\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.2,\n          \"timeToSpend\": \"30-45 minutes\",\n          \"bestTimeToVisit\": \"Daytime\"\n        },\n                 {\n          \"placeName\": \"Scandal Point\",\n          \"placeDetails\": \"A prominent landmark in Shimla, situated where the Mall Road and the Ridge meet. It's a flat, wide platform offering panoramic views of the valley.\",\n          \"placeImageUrl\": \"https://example.com/scandalpoint.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 31.1043,\n            \"longitude\": 77.1707\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"timeToSpend\": \"30 minutes\",\n          \"bestTimeToVisit\": \"Anytime\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Nature & Spiritual Exploration\",\n      \"plan\": [\n        {\n          \"placeName\": \"Jakhoo Temple\",\n          \"placeDetails\": \"An ancient temple dedicated to Lord Hanuman, located on Jakhoo Hill. Requires a steep but rewarding hike.\",\n          \"placeImageUrl\": \"https://example.com/jakhootemple.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 31.1095,\n            \"longitude\": 77.1736\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.4,\n          \"timeToSpend\": \"2-3 hours (including hike)\",\n          \"bestTimeToVisit\": \"Morning/Afternoon\",\n          \"travelTimeFromCityCenter\": \"30 minutes walk from Ridge\"\n        },\n        {\n          \"placeName\": \"Annandale Ground\",\n          \"placeDetails\": \"A historical ground with a flat terrain, enveloped by dense deodar forests. It has a rich history dating back to the British era when it served as a popular recreational ground.\",\n          \"placeImageUrl\": \"https://example.com/annandaleground.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 31.0938,\n            \"longitude\": 77.1616\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.1,\n          \"timeToSpend\": \"1-2 hours\",\n          \"bestTimeToVisit\": \"Morning/Afternoon\",\n          \"travelTimeFromCityCenter\": \"15-20 minutes by car/taxi\"\n        },\n        {\n          \"placeName\": \"Tara Devi Temple\",\n          \"placeDetails\": \"A serene temple dedicated to Goddess Tara, located on a hilltop offering panoramic views.\",\n          \"placeImageUrl\": \"https://example.com/taradevitemple.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 31.0638,\n            \"longitude\": 77.1466\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"timeToSpend\": \"1-2 hours\",\n          \"bestTimeToVisit\": \"Afternoon\",\n           \"travelTimeFromCityCenter\": \"45 minutes by car/taxi\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Scenic Views & Departure\",\n      \"plan\": [\n        {\n          \"placeName\": \"Kufri\",\n          \"placeDetails\": \"A small hill station near Shimla, known for its scenic views and adventure activities (skiing in winter).\",\n          \"placeImageUrl\": \"https://example.com/kufri.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 31.0970,\n            \"longitude\": 77.2583\n          },\n          \"ticketPricing\": \"Varies depending on activities\",\n          \"rating\": 4.0,\n          \"timeToSpend\": \"3-4 hours\",\n          \"bestTimeToVisit\": \"Morning\",\n          \"travelTimeFromShimla\": \"1-1.5 hours by car/taxi\"\n        },\n        {\n          \"placeName\": \"Green Valley\",\n          \"placeDetails\": \"Known for its lush greenery and scenic beauty. It is often featured in Bollywood movies and offers breathtaking views of the surrounding landscape.\",\n          \"placeImageUrl\": \"https://example.com/greenvalley.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 31.0847,\n            \"longitude\": 77.2031\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.2,\n          \"timeToSpend\": \"1-2 hours\",\n          \"bestTimeToVisit\": \"Morning/Afternoon\",\n          \"travelTimeFromShimla\": \"30-40 minutes by car/taxi\"\n        },\n        {\n          \"placeName\": \"Departure\",\n          \"placeDetails\": \"Head back to Shimla and depart from the railway station or bus stand.\",\n          \"timeToSpend\": \"As needed\",\n          \"bestTimeToVisit\": \"Afternoon/Evening\",\n            \"travelTimeFromKufri\": \"1-1.5 hours by car/taxi\"\n        }\n      ]\n    }\n  },\n  \"budgetTips\": [\n    \"Travel during the off-season for lower hotel rates.\",\n    \"Eat at local restaurants and dhabas for affordable meals.\",\n    \"Use public transport or walk to save on transportation costs.\",\n    \"Look for free activities like visiting parks and viewpoints.\",\n    \"Negotiate prices with vendors and taxi drivers.\"\n  ],\n  \"notes\": \"Remember to check weather conditions and pack accordingly. Book accommodations and transportation in advance, especially during peak season.\"\n}\n```\n\n**Important Notes:**\n\n*   **Image URLs:** The image URLs are placeholders (`https://example.com/...`). Replace them with actual image URLs for each location and hotel.  You can find these images using a search engine.\n*   **Pricing:** Hotel and activity prices are estimates. Always confirm the actual costs when booking.\n*   **Geo-Coordinates:** While I've provided approximate geo-coordinates, use a reliable mapping service (like Google Maps) to get more accurate locations.\n*   **Transportation:**  Within Shimla, walking is often the best way to get around. For longer distances, consider local buses or taxis.  Negotiate taxi fares beforehand.\n*   **Customization:**  This is a template.  Adjust the itinerary and hotel choices based on your specific preferences and budget.  You could swap out destinations, add or remove activities, etc.\n*   **Booking:** Book accommodations and transportation in advance, especially if you are traveling during peak season (summer or holidays).\n\nThis detailed JSON provides a solid foundation for planning your budget-friendly Shimla trip. Remember to replace the placeholder information with real-world data and tailor the itinerary to your interests.  Enjoy your trip!\n"},

          ],
        },
      ],
    });
  

